<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../Templates/topHeaderTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">


    <ui:define name="content">
        <h:form id="form">   
            <p:breadCrumb id="mainBreadCrumb">
                <p:menuitem value="Home" outcome="homeClient"/>                                 
            </p:breadCrumb>
            <p:layout style="margin-top: 20px;">
                <p:layoutUnit position="west" resizable="true" size="80%">
                    <p:tabView style="border: none">
                        <p:tab title="Página principal">                       
                            <!--<h:panelGrid columns="2" cellpadding="10">-->
                            <div style="height:500px">
                                <h:form>
                                    <!--<p:growl id="msgs" showDetail="true" />-->
                                    <!--<p:dashboard id="board">#{dashboardView.model}"> Ver porque no anda -->
                                        <!--<p:ajax event="reorder" listener="#{dashboardView.handleReorder}" update="msgs" />-->
                                    <h:outputLabel>Por ahora se deja hardcoded, despues cuando se tenga la entidad tarea se hará uso de la misma. No corresponde al scope actual</h:outputLabel>
                                    <p:panel style="width:400px;height:400px" id="drag-tareas" header="Información sobre sus tareas">
                                        <h:outputText value="Usted tiene X tareas pendientes"  />
                                    </p:panel>
                                    <p:draggable for="drag-tareas" />


                                </h:form>  
                            </div>
                            <!--</h:panelGrid>-->
                        </p:tab>
                        <p:tab title="Mis parcelas">
                            <p:commandButton icon="ui-icon-plus" action="#{beanParcela.abrirCreacionParcela}"/>
                            <p:dataTable var="parcela" value="#{beanParcela.parcelas}" style="width:50%">
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{parcela.nombre}" />                                
                                </p:column>

                                <p:column headerText="Departamento">
                                    <h:outputText value="#{parcela.departamento}" />                                                            
                                </p:column> 

                                <p:column headerText="Padrón">
                                    <h:outputText value="#{parcela.padron}" />                                                            
                                </p:column> 
                            </p:dataTable>
                        </p:tab>
                        <p:tab title="Mis cronogramas">
                            <h:panelGrid columns="2" cellpadding="10">

                            </h:panelGrid>
                        </p:tab>
                        <p:tab title="Mis tareas">
                            <p:panel header="Filtros">
                                Filtros
                                <p:panelGrid columns="6">
                                    <h:outputText value="Fecha" />      
                                    <p:selectOneMenu >
                                        <f:selectItem itemLabel="Hoy"/>
                                        <f:selectItem itemLabel="Esta semana"/>
                                        <f:selectItem itemLabel="Este mes"/>
                                    </p:selectOneMenu>
                                    <h:outputText value="Proyecto" />      
                                    <p:selectOneMenu >
                                        <f:selectItem itemLabel="Cultivo Soja 1 - Artigas"/>
                                        <f:selectItem itemLabel="Cultivo Trigo - Tacuarembo"/>                                        
                                    </p:selectOneMenu>
                                    <h:outputText value="Zona" />      
                                    <p:selectOneMenu >
                                        <f:selectItem itemLabel="Artigas"/>
                                        <f:selectItem itemLabel="Tacuarembo"/>
                                        <f:selectItem itemLabel="Rocha"/>
                                    </p:selectOneMenu>
                                </p:panelGrid>
                            </p:panel>
                            <p:outputPanel>
                                <p:dataTable value="#{beanSeguimiento.tareas}" var="item">
                                    <p:column headerText="Fecha" width="100px">
                                        <p:calendar disabled="true" value="#{item.fechaPrevista}"/>
                                    </p:column>
                                    <p:column headerText="Actividad">
                                        #{item.titulo}
                                    </p:column>
                                </p:dataTable>
                            </p:outputPanel>
                        </p:tab>
                        <p:tab title="Mis cultivos">
                            <p:commandButton icon="ui-icon-plus" action="#{beanCultivo.abrirCreacionCultivo}"/>
                            <p:dataTable var="cultivo" value="#{beanCultivo.cultivos}" style="width:50%">
                                <p:column headerText="Nombre">
                                    <h:outputText value="#{cultivo.nombre}" />                                
                                </p:column>

                                <p:column headerText="Departamento">
                                    <h:outputText value="#{cultivo.idParcela.nombre}" />                                                            
                                </p:column> 

                                <p:column headerText="Padrón">
                                    <h:outputText value="#{cultivo.fechaInicio}" />                                                            
                                </p:column> 
                            </p:dataTable>
                        </p:tab>
                    </p:tabView>
                </p:layoutUnit>
                <p:layoutUnit position="center">
                    <!--<script type="text/javascript" src="http://voap.weather.com/weather/oap/USGA0028?template=ALERV&par=3000000007&unit=1&key=twciweatherwidget"></script>-->
                    <p:panel style="width:90%" id="drag-clima" header="Notificaciones climáticas">

                    </p:panel>
                    <p:draggable for="drag-clima" />

                    <p:panel style="width:90%"  id="drag-noticias" header="Noticias varias">
                        <h:outputText value="Aquí se consumirá info de algún WS de noticias agro (no corresponde al scope actual)" />
                    </p:panel>
                    <p:draggable for="drag-noticias" />
                </p:layoutUnit>                    
            </p:layout>
        </h:form>
    </ui:define>
</ui:composition>

